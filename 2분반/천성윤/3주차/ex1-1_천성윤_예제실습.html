<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Password Matching and Validation</title>
</head>

<body>
  <h1>Password Matching and Validation</h1>
  <label for="password">Password:</label>
  <input type="password" id="password" onkeyup="validatePassword()" />
  <br />
  <label for="confirmPassword">Confirm Password:</label>
  <input type="password" id="confirmPassword" onkeyup="validatePassword()" />
  <p id="message"></p>

  <script>   //onkeyup -> 입력시마다 validatePassword 함수 실행
    function validatePassword() {
      const password = document.getElementById("password").value;  //값 불러오기
      const confirmPassword = document.getElementById("confirmPassword").value; //값 불러오기
      const message = document.getElementById("message"); //메시지 표시할 것 가져오기

      const hasUpperCase = /[A-Z]/.test(password); //대문자 포함 여부
      const hasLowerCase = /[a-z]/.test(password); //소문자 포함 여부
      const hasNumber = /[0-9]/.test(password); //숫자 포함 여부
      const isLengthValid = password.length >= 8; //길이 확인

      if (password === confirmPassword) {
        if (isLengthValid && hasUpperCase && hasLowerCase && hasNumber) {
          message.innerHTML = "비밀번호가 일치하며 조건을 충족합니다.";
        } else {
          message.innerHTML = "비밀번호는 다음 조건을 만족해야 합니다: <br />";
          if (!isLengthValid) {
            message.innerHTML += "- 8글자 이상 X<br />";
          } else {
            message.innerHTML += "- 8글자 이상 O<br />";
          }
          if (!hasUpperCase) {
            message.innerHTML += "- 대문자 포함 X<br />";
          } else {
            message.innerHTML += "- 대문자 포함 O<br />";
          }
          if (!hasLowerCase) {
            message.innerHTML += "- 소문자 포함 X<br />";
          } else {
            message.innerHTML += "- 소문자 포함 O<br />";
          }
          if (!hasNumber) {
            message.innerHTML += "- 숫자 포함 X";
          } else {
            message.innerHTML += "- 숫자 포함 O";
          }
        }
      } else {
        message.innerHTML = "비밀번호가 일치하지 않습니다.";
      }
    }
  </script>
</body>

</html>